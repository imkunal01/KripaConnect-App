backend/
│
├── package.json
├── .env
├── .env.example
├── .gitignore
├── server.js                 # Entry point (runs Express app)
│
├── src/
│   ├── app.js                # Express app config (middlewares, routes setup)
│   │
│   ├── config/               # All environment & third-party configs
│   │   ├── db.js             # MongoDB connection
│   │   ├── cloudinary.js     # Cloudinary setup
│   │   ├── razorpay.js       # Razorpay instance
│   │   ├── mailer.js         # Nodemailer config
│   │   ├── pdfkit.js         # PDF generator helper setup
│   │   └── index.js          # Exports all configs cleanly
│   │
│   ├── models/               # All Mongoose schemas
│   │   ├── User.js
│   │   ├── Product.js
│   │   ├── Category.js
│   │   ├── Order.js
│   │   ├── Transaction.js
│   │   ├── Invoice.js
│   │   └── index.js          # Barrel export (optional)
│   │
│   ├── controllers/          # Logic for handling routes
│   │   ├── authController.js
│   │   ├── productController.js
│   │   ├── orderController.js
│   │   ├── userController.js
│   │   ├── paymentController.js
│   │   ├── invoiceController.js
│   │   └── adminController.js
│   │
│   ├── routes/               # Route definitions (organized by module)
│   │   ├── authRoutes.js
│   │   ├── userRoutes.js
│   │   ├── productRoutes.js
│   │   ├── orderRoutes.js
│   │   ├── paymentRoutes.js
│   │   ├── invoiceRoutes.js
│   │   ├── adminRoutes.js
│   │   └── index.js          # Combines all routes to mount in app.js
│   │
│   ├── middleware/           # Custom middlewares
│   │   ├── authMiddleware.js     # JWT verify + attach user
│   │   ├── roleMiddleware.js     # Role-based access (admin/retailer)
│   │   ├── errorHandler.js       # Central error response handler
│   │   ├── validateRequest.js    # Validation wrapper
│   │   └── rateLimiter.js        # Request limiter for sensitive routes
│   │
│   ├── services/             # Business logic that supports controllers
│   │   ├── razorpayService.js   # create order, verify signature, etc.
│   │   ├── emailService.js      # sendMail(order/invoice/etc)
│   │   ├── cloudinaryService.js # upload/delete image
│   │   ├── pdfService.js        # generate invoice PDFs
│   │   └── analyticsService.js  # stats for admin dashboard
│   │
│   ├── validators/           # express-validator / Joi schemas
│   │   ├── authValidator.js
│   │   ├── productValidator.js
│   │   ├── orderValidator.js
│   │   └── userValidator.js
│   │
│   ├── utils/                # Small helpers and utilities
│   │   ├── catchAsync.js     # Async handler wrapper
│   │   ├── AppError.js       # Custom error class
│   │   ├── response.js       # Success/error response formatter
│   │   ├── logger.js         # Winston logger config
│   │   ├── constants.js      # All constants, enums, etc.
│   │   └── jwtUtils.js       # Token generation/verification helpers
│   │
│   ├── docs/                 # API documentation (Swagger or Postman export)
│   │   ├── swagger.json
│   │   └── postman_collection.json
│   │
│   ├── tests/                # Jest / Supertest integration tests
│   │   ├── auth.test.js
│   │   ├── product.test.js
│   │   ├── order.test.js
│   │   └── setup.js
│   │
│   ├── temp/                 # Temporary storage for PDFs or uploads before Cloudinary
│   │
│   └── index.js              # (Optional) to export app for tests
│
└── README.md
